!
function(a, b) {
    var c = {
        sectionSelector: ".section",
        easing: "ease",
        duration: 1e3,
        quietPeriod: 800,
        mode: "vertical",
        loop: !1,
        pagination: !0,
        keyboard: !0,
        updateURL: !1,
        onLoad: null,
        beforeMove: null,
        afterMove: null
    },
    d = function() {
        var a = document.createElement("p").style,
        b = ["ms", "O", "Moz", "Webkit"];
        if ("" === a.transition) return ! 0;
        for (; b.length;) return b.pop() + "Transition" in a ? !0 : !1
    } ();
    a.fn.swipeEvents = function() {
        return this.each(function() {
            function b(a) {
                var b = a.originalEvent.touches;
                b && b.length && (d = b[0].pageX, e = b[0].pageY, f.on("touchmove", c))
            }
            function c(a) {
                var b = a.originalEvent.touches;
                if (b && b.length) {
                    var g = d - b[0].pageX,
                    h = e - b[0].pageY;
                    g >= 50 && f.trigger("swipeLeft"),
                    -50 >= g && f.trigger("swipeRight"),
                    h >= 50 && f.trigger("swipeUp"),
                    -50 >= h && f.trigger("swipeDown"),
                    (Math.abs(g) >= 50 || Math.abs(h) >= 50) && f.unbind("touchmove", c)
                }
            }
            var d, e, f = a(this);
            f.on("touchstart", b)
        })
    },
    a.fn.miOneScroll = function(e) {
        function f(a, c) {
            var d = 0,
            e = "";
            if ("get" === a) {
                if ("" !== b.location.hash) {
                    e = b.location.hash.split("#")[1];
                    for (var f = 0,
                    g = v.length; g > f; f += 1) if (e === v[f]) {
                        d = f;
                        break
                    }
                }
            } else {
                var h = "undefined" != typeof o.eq(c).data("anchor") ? o.eq(c).data("anchor") : "section" + (c + 1);
                history.replaceState ? history.pushState({},
                document.title, "#" + h) : location.hash = h
            }
            return d
        }
        function g(b, c) {
            var e = "horizontal" === n.mode ? s: t,
            g = -b * e + "px";
            o.removeClass("section-active section-finish").eq(b).addClass("section-active"),
            "fade" === n.mode ? o.eq(b).fadeIn(n.duration).siblings().fadeOut(n.duration / 2) : d ? m.css({
                transform: "horizontal" === n.mode ? "translate3d(" + g + ", 0, 0)": "translate3d(0, " + g + ", 0)"
            }) : "horizontal" === n.mode ? m.animate({
                left: g
            },
            n.duration,
            function() {
                o.eq(b).addClass("section-finish section-done"),
                "function" == typeof n.afterMove && n.afterMove(b, c)
            }) : m.animate({
                top: g
            },
            n.duration,
            function() {
                o.eq(b).addClass("section-finish section-done"),
                "function" == typeof n.afterMove && n.afterMove(b, c)
            }),
            n.pagination && 0 !== c && a(".mi1scroll-pagination").children("li").removeClass("active").eq(b).addClass("active"),
            n.updateURL && 0 !== c && f("set", b),
            m.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",
            function() {
                o.eq(b).addClass("section-finish section-done"),
                "function" == typeof n.afterMove && n.afterMove(b, c)
            })
        }
        function h(a) {
            var b = (new Date).getTime();
            b - q < n.quietPeriod + n.duration || (0 > a ? l.moveDown() : l.moveUp(), q = b)
        }
        function i() {
            s = a(b).width(),
            t = a(b).height(),
            j.css({
                width: s,
                height: t
            }),
            o.css({
                width: s,
                height: t
            }),
            "horizontal" === n.mode && m.css("width", s * o.length),
            0 !== p && l.moveTo(p)
        }
        var j, k, l = this,
        m = a(this),
        n = a.extend({},
        c, e),
        o = a(n.sectionSelector),
        p = 0,
        q = 0,
        r = null,
        s = a(b).width(),
        t = a(b).height(),
        u = "",
        v = [];
        return l.moveDown = function() {
            if (p < o.length - 1) {
                if ("function" == typeof n.beforeMove && n.beforeMove(p + 1, "down") === !1) return ! 1;
                p += 1,
                g(p, "down")
            } else if (n.loop) {
                if ("function" == typeof n.beforeMove && n.beforeMove(0, "down") === !1) return ! 1;
                p = 0,
                g(p, "down")
            } else if ("function" == typeof n.beforeMove && n.beforeMove(p + 1, "down") === !1) return ! 1;
            return p
        },
        l.moveUp = function() {
            if (p > 0) {
                if ("function" == typeof n.beforeMove && n.beforeMove(p - 1, "up") === !1) return ! 1;
                p -= 1,
                g(p, "up")
            } else if (n.loop) {
                if ("function" == typeof n.beforeMove && n.beforeMove(o.length - 1, "up") === !1) return ! 1;
                p = o.length - 1,
                g(p, "up")
            } else if ("function" == typeof n.beforeMove && n.beforeMove(p - 1, "up") === !1) return ! 1;
            return p
        },
        l.moveTo = function(a) {
            var b = p;
            return "function" == typeof n.beforeMove && n.beforeMove(p, a - p) === !1 ? !1 : (p = a > o.length - 1 || 0 > a ? 0 : a, g(p, a - b), p)
        },
        a("html, body").addClass("mi1scroll-container").css({
            margin: 0,
            height: "100%",
            "overflow-x": "hidden"
        }),
        m.addClass("mi1scroll").wrap(a('<div class="mi1scroll-wrapper" />')),
        j = a(".mi1scroll-wrapper"),
        j.css({
            width: s,
            height: t
        }),
        o.css({
            width: s,
            height: t
        }),
        "fade" === n.mode ? (j.css({
            position: "relative"
        }), m.addClass("mi1scroll"), o.css({
            position: "absolute",
            left: "0",
            top: "0"
        }).hide()) : (d ? m.addClass("mi1scroll").css({
            transition: "all " + n.duration + "ms " + n.easing
        }) : (j.css({
            position: "relative"
        }), m.addClass("mi1scroll").css({
            position: "absolute",
            left: "0",
            top: "0"
        })), "horizontal" === n.mode && (m.css("width", s * o.length), o.css("float", "left"))),
        o.each(function(b) {
            var c = b + 1,
            d = "undefined" != typeof a(this).data("anchor") ? a(this).data("anchor") : "section" + c;
            a(this).attr({
                "data-index": c
            }),
            v.push(d),
            u += "undefined" != typeof a(this).attr("data-title") ? '<li><a href="#' + d + '" data-index="' + c + '" data-title="' + a(this).attr("data-title") + '"><span class="dot">' + c + '</span><span class="title">' + a(this).attr("data-title") + "</span></a></li>": '<li><a href="#' + d + '" data-index="' + c + '"><span class="dot">' + c + "</span></a></li>"
        }),
        n.pagination && o.length > 1 && (a('<ol class="mi1scroll-pagination"></ol>').html(u).appendTo(j), a(".mi1scroll-pagination").find("a").on("click",
        function(b) {
            b.preventDefault(),
            l.moveTo(a(this).data("index") - 1)
        })),
        k = f("get"),
        n.updateURL && k > 0 && k < o.length ? (l.moveTo(k), o.eq(k).fadeIn(n.duration)) : (o.eq(0).show().addClass("section-finish section-done"), n.pagination && o.length > 1 && a(".mi1scroll-pagination li").first().addClass("active")),
        a(document).on("mousewheel DOMMouseScroll MozMousePixelScroll",
        function(a) {
            var b = a.originalEvent.wheelDelta || -a.originalEvent.detail;
            a.preventDefault(),
            h(b)
        }),
        m.swipeEvents().on({
            swipeDown: function() {
                l.moveUp()
            },
            swipeUp: function() {
                l.moveDown()
            }
        }),
        a(b).on("resize",
        function() {
            r && b.clearTimeout(r),
            r = b.setTimeout(function() {
                i()
            },
            300)
        }),
        n.keyboard === !0 && a(document).on("keydown",
        function(a) {
            var b = a.target.tagName.toLowerCase();
            switch (a.which) {
            case 38:
                "input" !== b && "textarea" !== b && l.moveUp();
                break;
            case 40:
                "input" !== b && "textarea" !== b && l.moveDown();
                break;
            case 32:
                "input" !== b && "textarea" !== b && l.moveDown();
                break;
            case 33:
                "input" !== b && "textarea" !== b && l.moveUp();
                break;
            case 34:
                "input" !== b && "textarea" !== b && l.moveDown();
                break;
            case 36:
                l.moveTo(1);
                break;
            case 35:
                l.moveTo(o.length);
                break;
            default:
                return
            }
        }),
        "function" == typeof n.onLoad && n.onLoad(),
        this
    }
} (jQuery, window);